<script>
    function getComputerChoice() {
        let prob = Math.random()*3;
        if (prob <= 1) {
            return "rock";
        } else if (prob <= 2) {
            return "paper";
        } else {
            return "scissors";
        }
    }

    function getHumanChoice() {
        let humanChoice = prompt("Your choice: ");
        return humanChoice.toLowerCase();
    }

    function playGame() {
        let humanScore = 0;
        let computerScore = 0;

        function playRound(humanChoice, computerChoice) {

            let winStatus = -1; // 0 is player loss, 1 is tie and 2 is player win

            if (humanChoice === 'rock' && computerChoice === 'paper' ||
                humanChoice === 'paper' && computerChoice === 'scissors' ||
                humanChoice === 'scissors' && computerChoice === 'rock'
            ) {
                computerScore += 1;
                winStatus = 0;
            } else if (humanChoice === computerChoice) {
                winStatus = 1;
            } else {
                humanScore += 1;
                winStatus = 2;
            }

            humanChoice = humanChoice.charAt(0).toUpperCase() + humanChoice.slice(1);
            computerChoice = computerChoice.charAt(0).toUpperCase() + computerChoice.slice(1);

            if (winStatus === 0) {
                console.log(`You lose! ${computerChoice} beats ${humanChoice}`);
            } else if (winStatus === 1) {
                console.log(`It's a draw!`);
            } else {
                console.log(`You win! ${humanChoice} beats ${computerChoice}`);
            }
        }

        for (let i = 0; i < 5; i++) {
            let humanChoice = getHumanChoice();
            let computerChoice = getComputerChoice();

            playRound(humanChoice, computerChoice);
        }
        console.log(`End of game.\n\nYour Score: ${humanScore}, Computer Score: ${computerScore}`);
    }

    playGame();

</script>
